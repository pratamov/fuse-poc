package org.bankmega.processor;

import org.apache.camel.Exchange;
import org.apache.camel.Processor;

public class InquiryRequestProcessor implements Processor{

	public final static String INQUIRY_REQUEST_TEMPLATE = "000003FC5CD4D6E2C140404040404040404040F1F04BF1F14BF3F34BF8F5404040404040404040404040404040404040404040404040404040404040E3F9F9F9F940404040405CC5D6D4D1E6E3F1404040404040404000404040F5F5F5F5F4F9F9F9F2F0F1F6F2F10000000002A2000054080000010010020101191F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000000000213114004F0000000000000000000F0000000000213114004F0000000000000000000F0000000000213114004F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000000000000000000F0000C9C4D94040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040C9C4D940C9C4D940404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040F0F0404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040";
	
	@Override
	public void process(Exchange exchange) throws Exception {
		
		int len = INQUIRY_REQUEST_TEMPLATE.length();
	    byte[] data = new byte[len / 2];
	    for (int i = 0; i < len; i += 2) {
	        data[i / 2] = (byte) ((Character.digit(INQUIRY_REQUEST_TEMPLATE.charAt(i), 16) << 4)
	                             + Character.digit(INQUIRY_REQUEST_TEMPLATE.charAt(i+1), 16));
	    }
		exchange.getOut().setBody(data);
		
	}

}
